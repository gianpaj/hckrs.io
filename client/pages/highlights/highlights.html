<template name="highlights">
  <div id="highlights">

    <a href="#" class="up"><img src="img/icon-arrow-up.svg" title="previous" class="up" /></a>
    <a href="#" class="down"><img src="img/icon-arrow-down.svg" class="down" title="next" /></a>
    
    <div id="onePageScroll">
      {{#each highlights}}
        <section data-id="{{_id}}">
          <div class="photo" style="background-image:url({{imageUrl}});"></div>
          {{#if url}}
            <a href="{{url}}" target="_blank">
              {{> highlightSectionDetails}}
            </a>
          {{else}}
            {{> highlightSectionDetails}}
          {{/if}}
        </section>
      {{/each}}
    </div>

    {{#if hasAmbassadorPermission}}
      {{#editorForm editor}}
        {{> afQuickField name="title" id="title"}}
        {{> afQuickField name="subtitle" id="subtitle"}}
        {{> afQuickField name="imageUrl" id="imageUrl"}}
        {{> afQuickField name="url" id="url"}}
        {{> afQuickField name="private" id="private"}}
      {{/editorForm}}
    {{/if}}
    
  </div>
</template>

<template name="highlightSectionDetails">
  <div class="details">
    
    {{#if userId}}
    {{#with UserView userId}}
      <div class="user">
        <a href="{{pathFor 'hacker'}}" class="hackers-name pictureViewLink" {{foreign}}><div style="background-image:url({{profile.picture}});" class="pictureView small clickable" {{foreign}} label="{{label}}"></div>
        </a>
      </div>
    {{/with}}
    {{/if}}
      

    {{#if url}}
      <div class="url">{{Domain url}}</div>
    {{/if}}

    {{#if title}}
      <span class="title">{{title}}</span>
    {{/if}}
              
    {{#if subtitle}}
      <span class="subtitle">{{subtitle}}</span>
    {{/if}}
    
    {{#if eventLocation}}
      <span class="event-location"><strong>{{eventLocation}}</strong></span>
    {{/if}}

    {{#if eventDate}}
      <span class="event-date">{{Calendar eventDate}}</span>
    {{/if}}
    
    {{#if description}}
      <div class="description">{{description}}</div>
    {{/if}}


  </div>        
</template>
