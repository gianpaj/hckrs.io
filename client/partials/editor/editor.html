
<template name="editorForm">
  {{#autoForm id=id collection=collection type=action doc=selected class="toolbar-editor"}}
    
    {{#if formActive}}
      <div class="panel">
        {{> UI.contentBlock this}}
      </div>
    {{/if}}
    
    <div class="toolbar">

      {{#if formActive}}

        {{!-- form toolbar --}}

        {{#if equals mode "add"}}
          <div class="pull-right">
            <button type="button" action="cancel" class="btn btn-sm light btn-inverse">Cancel</button>
            <button type="submit" class="btn btn-sm btn-primary">Save</button>
          </div>
        {{/if}}

        {{#if equals mode "edit"}}
          <div class="pull-right">
            <button type="button" action="cancel" class="btn btn-sm light btn-inverse">Cancel</button>
            <button type="submit" class="btn btn-sm btn-primary">Save</button>
          </div>
          <button type="button" action="remove" class="btn btn-sm light btn-inverse"><span class="glyphicon glyphicon-white glyphicon-trash"></span></button>
        {{/if}}

      {{else}}

        {{!-- default toolbar --}}

        {{#if selected}}
        {{#if hasAmbassadorPermission}}
          <div class="text">  
            <a href="#" {{privacy.attr}}><span class="glyphicon glyphicon-white {{privacy.icon}}"></span></a>
            <a href="#" {{visibility.attr}}><span class="glyphicon glyphicon-white {{visibility.icon}}"></span></a>
          </div>
        {{/if}}
        {{/if}}
        <button type="button" class="btn btn-sm btn-inverse light {{editActive}} {{disallowed}}" action="edit"><span class="glyphicon glyphicon-white glyphicon-pencil"></span> Edit</button>
        <button type="button" class="btn btn-sm btn-inverse light" action="add"><span class="glyphicon glyphicon-white glyphicon-plus"></span></button>

      {{/if}}

      <div class="clear"></div>
    </div>

  {{/autoForm}}
</template>

